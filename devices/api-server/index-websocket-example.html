<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <title>index</title>
</head>
<body>
<h1>test websocket</h1>
<p id="message-json"></p>
<script>
    function jsonWS() {
        var ws = new WebSocket("ws://localhost:8082/ws");
        //Triggered when connection is open

        ws.onopen = function (evt) {
            console.log("Connection open ...");
            // var obj = {a: "bb", b: 2};
            // ws.send(JSON.stringify(obj));

        };
        //Triggered when a message is received
        ws.onmessage = function (evt) {
            console.log("Received Message: " + evt.data);
            document.getElementById("message-json").innerText += evt.data;

        };
        //Triggered when connection is closed
        ws.onclose = function (evt) {
            console.log("Connection closed.");
        };
    }
    jsonWS();
</script>
</body>
</html>